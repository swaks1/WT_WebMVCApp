@model IEnumerable<WT_WebMVCApp.Models.ExerciseVM>

@{
    ViewData["Title"] = "Index";

    var ExerciseGrouped = Model.GroupBy(ex => ex.Category);
}

<h2 class="text-center">All Exercises</h2>



@foreach (var group in ExerciseGrouped)
{
    var category = group.Key;
    var ExerciseCategory = System.Globalization.CultureInfo.CurrentCulture.TextInfo.ToTitleCase(category.ToString().ToLower());

    <div class="row mb-2">
        <div class="col-md-12">
            <h2>@ExerciseCategory</h2>
        </div>

        @foreach (var exercise in group)
        {
            <div class="col-xl-3 col-sm-6 mb-3">
                <div class="card text-secondary bg-light o-hidden h-100">
                    <div class="card-body">
                        <div class="card-body-icon">
                            <img style="height:100px;width:100px" class="rounded-circle img-responsive" src="@exercise.ImagePath" />
                        </div>
                        <div class="mr-5">
                            <h3 class="text-capitalize">@exercise.Name</h3>
                            <hr />

                            <blockquote class="blockquote">
                                <p class="mb-0">@exercise.Description</p>
                            </blockquote>

                            <hr />

                            @foreach (var attribute in exercise.Attributes)
                            {
                                <span class="badge badge-pill badge-secondary" data-toggle="tooltip" data-placement="top" title="@attribute.AttributeValue">
                                    @attribute.AttributeName
                                </span>
                            }
                        </div>
                    </div>
                    <a class="card-footer text-primary clearfix small z-1" href="#">
                        <span class="float-left">Edit </span>
                        <span class="float-right">
                            <i class="fa fa-angle-right"></i>
                        </span>
                    </a>
                </div>
            </div>

        }

    </div>
}

@Html.Partial("_ExerciseModal.cshtml")

@section Scripts
    {
    <script>
        $(function () {
            $(".card-footer").on("click", function () {
                console.log('ok');
                $("#exerciseModal").modal("show");

            });


        });
    </script>
}




